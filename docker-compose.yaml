# We use `init: true` as Node.js won't respond to signals or process.exit() when PID 1.

services:
  hn-crawler:
    image: us-ashburn-1.ocir.io/sd58faummalr/hndr/hn-crawler
    init: true
    build:
      context: .
      dockerfile: Dockerfile.hn-crawler
      args:
        GH_PAT: ${GH_PAT}

  hn-enqueuer:
    image: us-ashburn-1.ocir.io/sd58faummalr/hndr/hn-enqueuer
    init: true
    build:
      context: .
      dockerfile: Dockerfile.hn-enqueuer
      args:
        GH_PAT: ${GH_PAT}
